{
  "version": "6",
  "id": "vista-pitanga-bot",
  "name": "CondomÃ­nio Vista de Pitanga",
  "groups": [
    {
      "id": "group-welcome",
      "title": "Boas-vindas",
      "blocks": [
        {
          "id": "block-welcome-text",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  { "text": "ğŸ¢ OlÃ¡! Bem-vindo ao " },
                  { "text": "CondomÃ­nio Vista de Pitanga", "bold": true },
                  { "text": "!" }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Como posso ajudÃ¡-lo hoje?" }]
              }
            ]
          }
        },
        {
          "id": "block-menu",
          "type": "choice input",
          "options": {
            "buttonLabel": "Enviar",
            "variableId": "var-menu-choice"
          },
          "items": [
            {
              "id": "item-piscina",
              "content": "ğŸŠ Reservar pulseira da piscina"
            },
            {
              "id": "item-porteiro",
              "content": "ğŸšª Falar com Porteiro"
            },
            {
              "id": "item-sindico",
              "content": "ğŸ‘” Falar com SÃ­ndico"
            }
          ]
        }
      ],
      "graphCoordinates": { "x": 0, "y": 0 }
    },
    {
      "id": "group-piscina",
      "title": "Reserva Piscina",
      "blocks": [
        {
          "id": "block-piscina-intro",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  { "text": "ğŸŠ " },
                  { "text": "Reserva de Pulseiras da Piscina", "bold": true }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "â° HorÃ¡rio de funcionamento: 8h Ã s 22h" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ« Limite: 6 pulseiras por mÃªs" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Vamos fazer sua reserva!  ğŸ“" }]
              }
            ]
          }
        },
        {
          "id": "block-ask-name",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ‘¤ Qual Ã© o seu nome completo?" }]
              }
            ]
          }
        },
        {
          "id": "block-input-name",
          "type": "text input",
          "options": {
            "variableId": "var-nome",
            "placeholder": "Digite seu nome completo"
          }
        },
        {
          "id": "block-ask-bloco",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ  Qual Ã© o seu Bloco?" }]
              }
            ]
          }
        },
        {
          "id": "block-input-bloco",
          "type": "text input",
          "options": {
            "variableId": "var-bloco",
            "placeholder": "Ex: A, B, C..."
          }
        },
        {
          "id": "block-ask-apto",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸšª Qual Ã© o nÃºmero do seu Apartamento?" }]
              }
            ]
          }
        },
        {
          "id": "block-input-apto",
          "type": "number input",
          "options": {
            "variableId": "var-apartamento",
            "placeholder": "Ex: 101, 202..."
          }
        },
        {
          "id": "block-ask-date",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ“… Para qual data deseja reservar?" }]
              }
            ]
          }
        },
        {
          "id": "block-input-date",
          "type": "date input",
          "options": {
            "variableId": "var-data-reserva",
            "format": "dd/MM/yyyy"
          }
        },
        {
          "id": "block-ask-qty",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ« Quantas pulseiras deseja reservar?  (mÃ¡ximo 6)" }]
              }
            ]
          }
        },
        {
          "id": "block-input-qty",
          "type": "choice input",
          "options": {
            "variableId": "var-quantidade"
          },
          "items": [
            { "id": "qty-1", "content": "1 pulseira" },
            { "id": "qty-2", "content": "2 pulseiras" },
            { "id": "qty-3", "content": "3 pulseiras" },
            { "id": "qty-4", "content": "4 pulseiras" },
            { "id": "qty-5", "content": "5 pulseiras" },
            { "id": "qty-6", "content": "6 pulseiras" }
          ]
        },
        {
          "id": "block-ask-used",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ“Š Quantas pulseiras vocÃª jÃ¡ usou este mÃªs?" }]
              },
              {
                "type": "p",
                "children": [{ "text": "(Para controle do limite mensal de 6 pulseiras)" }]
              }
            ]
          }
        },
        {
          "id": "block-input-used",
          "type": "choice input",
          "options": {
            "variableId": "var-ja-usadas"
          },
          "items": [
            { "id": "used-0", "content": "0 - Ainda nÃ£o usei nenhuma" },
            { "id": "used-1", "content": "1 pulseira" },
            { "id": "used-2", "content": "2 pulseiras" },
            { "id": "used-3", "content": "3 pulseiras" },
            { "id": "used-4", "content": "4 pulseiras" },
            { "id": "used-5", "content": "5 pulseiras" },
            { "id": "used-6", "content": "6 pulseiras (limite atingido)" }
          ]
        }
      ],
      "graphCoordinates": { "x": 400, "y": 0 }
    },
    {
      "id": "group-validation",
      "title": "ValidaÃ§Ã£o do Limite",
      "blocks": [
        {
          "id": "block-condition",
          "type": "condition",
          "items": [
            {
              "id": "condition-exceeded",
              "content": {
                "comparisons": [
                  {
                    "id": "comparison-1",
                    "variableId": "var-ja-usadas",
                    "comparisonOperator": "Equal to",
                    "value": "6 pulseiras (limite atingido)"
                  }
                ]
              }
            }
          ]
        }
      ],
      "graphCoordinates": { "x": 800, "y": 0 }
    },
    {
      "id": "group-limit-exceeded",
      "title": "Limite Excedido",
      "blocks": [
        {
          "id": "block-limit-msg",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  { "text": "âŒ Desculpe, vocÃª jÃ¡ atingiu o limite de 6 pulseiras este mÃªs.", "bold": true }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ“… Seu limite serÃ¡ renovado no prÃ³ximo mÃªs." }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Para mais informaÃ§Ãµes, entre em contato com a administraÃ§Ã£o." }]
              }
            ]
          }
        }
      ],
      "graphCoordinates": { "x": 1200, "y": -200 }
    },
    {
      "id": "group-success",
      "title": "Reserva Confirmada",
      "blocks": [
        {
          "id": "block-webhook",
          "type": "webhook",
          "options": {
            "url": "SUA_URL_GOOGLE_SHEETS_AQUI",
            "method": "POST",
            "body": {
              "nome": "{{var-nome}}",
              "bloco": "{{var-bloco}}",
              "apartamento": "{{var-apartamento}}",
              "data_reserva": "{{var-data-reserva}}",
              "quantidade": "{{var-quantidade}}",
              "timestamp": "{{timestamp}}"
            }
          }
        },
        {
          "id": "block-receipt",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "âœ… RESERVA CONFIRMADA!", "bold": true }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ“‹ Recibo de Reserva - Piscina", "bold": true }]
              },
              {
                "type": "p",
                "children": [{ "text": "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ¢ CondomÃ­nio Vista de Pitanga", "bold": true }]
              },
              {
                "type": "p",
                "children": [{ "text": "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ‘¤ Nome: {{var-nome}}" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ  Bloco: {{var-bloco}} | Apto: {{var-apartamento}}" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ“… Data: {{var-data-reserva}}" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ« Pulseiras: {{var-quantidade}}" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "â° HorÃ¡rio da Piscina: 8h Ã s 22h" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" }]
              },
              {
                "type": "p",
                "children": [{ "text": "âš ï¸ Retire suas pulseiras na portaria no dia da reserva." }]
              },
              {
                "type": "p",
                "children": [{ "text": "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" }]
              }
            ]
          }
        }
      ],
      "graphCoordinates": { "x": 1200, "y": 200 }
    },
    {
      "id": "group-porteiro",
      "title": "Falar com Porteiro",
      "blocks": [
        {
          "id": "block-porteiro-msg",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  { "text": "ğŸšª " },
                  { "text": "Portaria - CondomÃ­nio Vista de Pitanga", "bold": true }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ“ Telefone: (00) 00000-0000" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Clique no botÃ£o abaixo para falar pelo WhatsApp:" }]
              }
            ]
          }
        },
        {
          "id": "block-porteiro-btn",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  {
                    "type": "a",
                    "url": "https://wa.me/5500000000000? text=OlÃ¡!  Sou morador do CondomÃ­nio Vista de Pitanga.",
                    "children": [{ "text": "ğŸ“± Abrir WhatsApp da Portaria" }]
                  }
                ]
              }
            ]
          }
        }
      ],
      "graphCoordinates": { "x": 400, "y": 400 }
    },
    {
      "id": "group-sindico",
      "title": "Falar com SÃ­ndico",
      "blocks": [
        {
          "id": "block-sindico-msg",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  { "text": "ğŸ‘” " },
                  { "text": "SÃ­ndico - CondomÃ­nio Vista de Pitanga", "bold": true }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "ğŸ“ Telefone: (00) 00000-0000" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Clique no botÃ£o abaixo para falar pelo WhatsApp:" }]
              }
            ]
          }
        },
        {
          "id": "block-sindico-btn",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [
                  {
                    "type": "a",
                    "url": "https://wa.me/5500000000000?text=OlÃ¡! Sou morador do CondomÃ­nio Vista de Pitanga e gostaria de falar com o sÃ­ndico.",
                    "children": [{ "text": "ğŸ“± Abrir WhatsApp do SÃ­ndico" }]
                  }
                ]
              }
            ]
          }
        }
      ],
      "graphCoordinates": { "x": 400, "y": 600 }
    },
    {
      "id": "group-back-menu",
      "title": "Voltar ao Menu",
      "blocks": [
        {
          "id": "block-back-question",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [{ "text": "Posso ajudÃ¡-lo com mais alguma coisa?" }]
              }
            ]
          }
        },
        {
          "id": "block-back-choice",
          "type": "choice input",
          "options": {
            "variableId": "var-voltar"
          },
          "items": [
            { "id": "back-yes", "content": "âœ… Sim, voltar ao menu" },
            { "id": "back-no", "content": "âŒ NÃ£o, obrigado" }
          ]
        }
      ],
      "graphCoordinates": { "x": 1600, "y": 200 }
    },
    {
      "id": "group-goodbye",
      "title": "Despedida",
      "blocks": [
        {
          "id": "block-goodbye",
          "type": "text",
          "content": {
            "richText": [
              {
                "type": "p",
                "children": [{ "text": "ğŸ˜Š Obrigado por usar nosso atendimento!" }]
              },
              {
                "type": "p",
                "children": [{ "text": "" }]
              },
              {
                "type": "p",
                "children": [
                  { "text": "ğŸ¢ CondomÃ­nio Vista de Pitanga", "bold": true }
                ]
              },
              {
                "type": "p",
                "children": [{ "text": "Tenha um Ã³timo dia!  ğŸŒŸ" }]
              }
            ]
          }
        }
      ],
      "graphCoordinates": { "x": 2000, "y": 400 }
    }
  ],
  "edges": [
    {
      "id": "edge-welcome-piscina",
      "from": { "groupId": "group-welcome", "blockId": "block-menu", "itemId": "item-piscina" },
      "to": { "groupId": "group-piscina" }
    },
    {
      "id": "edge-welcome-porteiro",
      "from": { "groupId": "group-welcome", "blockId": "block-menu", "itemId": "item-porteiro" },
      "to": { "groupId": "group-porteiro" }
    },
    {
      "id": "edge-welcome-sindico",
      "from": { "groupId": "group-welcome", "blockId": "block-menu", "itemId": "item-sindico" },
      "to": { "groupId": "group-sindico" }
    },
    {
      "id": "edge-piscina-validation",
      "from": { "groupId": "group-piscina" },
      "to": { "groupId": "group-validation" }
    },
    {
      "id": "edge-validation-exceeded",
      "from": { "groupId": "group-validation", "blockId": "block-condition", "itemId": "condition-exceeded" },
      "to": { "groupId": "group-limit-exceeded" }
    },
    {
      "id": "edge-validation-success",
      "from": { "groupId": "group-validation" },
      "to": { "groupId": "group-success" }
    },
    {
      "id": "edge-success-back",
      "from": { "groupId": "group-success" },
      "to": { "groupId": "group-back-menu" }
    },
    {
      "id": "edge-exceeded-back",
      "from": { "groupId": "group-limit-exceeded" },
      "to": { "groupId": "group-back-menu" }
    },
    {
      "id": "edge-porteiro-back",
      "from": { "groupId": "group-porteiro" },
      "to": { "groupId": "group-back-menu" }
    },
    {
      "id": "edge-sindico-back",
      "from": { "groupId": "group-sindico" },
      "to": { "groupId": "group-back-menu" }
    },
    {
      "id": "edge-back-yes",
      "from": { "groupId": "group-back-menu", "blockId": "block-back-choice", "itemId": "back-yes" },
      "to": { "groupId": "group-welcome" }
    },
    {
      "id": "edge-back-no",
      "from": { "groupId": "group-back-menu", "blockId": "block-back-choice", "itemId": "back-no" },
      "to": { "groupId": "group-goodbye" }
    }
  ],
  "variables": [
    { "id": "var-menu-choice", "name": "menu_choice" },
    { "id": "var-nome", "name": "nome" },
    { "id": "var-bloco", "name": "bloco" },
    { "id": "var-apartamento", "name": "apartamento" },
    { "id": "var-data-reserva", "name": "data_reserva" },
    { "id": "var-quantidade", "name": "quantidade" },
    { "id": "var-ja-usadas", "name": "pulseiras_ja_usadas" },
    { "id": "var-voltar", "name": "voltar_menu" }
  ],
  "settings": {
    "general": {
      "isBrandingEnabled": false,
      "isInputPrefillEnabled": true
    },
    "typingEmulation": {
      "enabled": true,
      "speed": 300,
      "maxDelay": 1. 5
    }
  },
  "theme": {
    "chat": {
      "inputs": {
        "backgroundColor": "#ffffff",
        "color": "#303235",
        "placeholderColor": "#9095A0"
      },
      "buttons": {
        "backgroundColor": "#0042DA",
        "color": "#ffffff"
      },
      "hostBubbles": {
        "backgroundColor": "#F7F8FF",
        "color": "#303235"
      },
      "guestBubbles": {
        "backgroundColor": "#0042DA",
        "color": "#ffffff"
      }
    }
  }
}
